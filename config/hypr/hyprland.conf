# Monitor
monitor=eDP-1,1920x1080,0x0,1

# Fix slow startup
exec systemctl --user import-environment WAYLAND_DISPLAY XDG_CURRENT_DESKTOP
exec dbus-update-activation-environment --systemd DISPLAY WAYLAND_DISPLAY XDG_CURRENT_DESKTOP 

# Autostart
exec-once=$HOME/.config/hypr/scripts/autostart

# Screensharing
exec-once=$HOME/.config/hypr/scripts/screensharing

# source=/home/redneko/.config/hypr/colors

# Set eng layout on startup
exec hyprctl keyword input: kb_layout us

# Input config
input {
    kb_layout=us,ru
    kb_options=grp:caps_toggle
    follow_mouse=1
    touchpad {
        natural_scroll=1
        disable_while_typing=1
    }
}

gestures { 
  workspace_swipe=1
  workspace_swipe_min_speed_to_force=5
}

general {
    sensitivity=1.0
    
    gaps_in=5
    gaps_out=12
    border_size=2
    col.active_border=0xff5e81ac
    col.inactive_border=0x66333333
    apply_sens_to_raw=0 
}

decoration {
    blur=1
    blur_new_optimizations=1
    blur_size=4
    blur_passes=3

    rounding=10
    drop_shadow=0
}

blurls=waybar
blurls=Rofi

animations {
    enabled=1

    # bezier=ease,0.4,0.02,0.21,1
    bezier=ease,0.13,0.99,0.19,1.0

    animation=windows,1,4,ease,slide
    animation=windowsOut,1,4,ease,slide
    animation=border,1,6,default
    animation=fade,1,6,ease
    animation=workspaces,1,6,ease
}

misc {
    disable_hyprland_logo=0
    disable_splash_rendering=1
    vfr=1
    hide_cursor_on_touch=1
}

dwindle {
    pseudotile=1
    force_split=0
    # no_gaps_when_only=1
}

master {
    new_is_master=1
    new_on_top=1
    # no_gaps_when_only=1
}

# Example windowrule v1
# windowrule=float,^(kitty)$
# Example windowrule v2
# windowrulev2=float,class:^(kitty)$,title:^(kitty)$


windowrule=noblur,firefox
windowrule=noblur,Chromium
windowrule=noblur,pentablet


# Float Necessary Windows
windowrule=float,Rofi
windowrule=float,pavucontrol
windowrule=float,kitty
windowrule=float,blueman-manager
windowrule=float,mpv
windowrule=float,org.telegram.desktop

# Center Necessary Windows
windowrule=center,mpv

# Change Necessary Windows's Size
windowrule=size 1040 670,kitty
windowrule=size 934 525,mpv
windowrule=size 570 870,WebApp-Syncthing9878

# Move Necessary Windows
windowrule=move 1010 50,org.telegram.desktop
windowrule=move 440 205,kitty
windowrule=move 675 105,WebApp-Syncthing9878

# Other Windowrules
windowrule=animation popin,Rofi
windowrulev2=float,class:firefox,title:Picture-in-Picture
windowrulev2=pin,class:firefox,title:Picture-in-Picture

# Script Binds
bind=,Print,exec,$HOME/.config/hypr/scripts/hyprland-screenshot-tool
bind=SHIFT,Print,exec,$HOME/.config/hypr/scripts/hyprland-screenshot-tool -S
bind=SUPER,Print,exec,$HOME/.config/hypr/scripts/hyprland-screenshot-tool -W
bind=SUPERSHIFT,Print,exec,$HOME/.config/hypr/scripts/hyprland-screenshot-tool -G
bind=SUPER,N,exec,$HOME/.config/hypr/scripts/rofi_notif_center.sh
bind=SUPERSHIFT,N,exec,echo > /tmp/dunstlog
bind=SUPERSHIFT,W,exec,$HOME/.config/hypr/scripts/wallpaper
bind=SUPERSHIFT,G,exec,$HOME/.config/hypr/scripts/godot
bind=SUPERSHIFT,I,exec,gamemoderun wine Games/genshin-impact/drive_c/Program\ Files/Genshin\ Impact/launcher.exe STAGING_SHARED_MEMORY=1 STAGING_WRITECOPY=1 _GL_DXVK_OPTIMIZATIONS=1 WINEESYNC=1
bind=SUPER,S,exec,syncthing
bind=SUPERSHIFT,V,exec,kitty -e sudo systemctl start libvirtd libvirtd-ro.socket libvirtd.socket libvirtd-admin.socket && kitty -e sudo virsh net-start default && gamemoderun virt-manager

# Execution Binds
bind=SUPER,RETURN,exec,kitty
bind=SUPER,R,exec,rofi -show drun

# System Binds
bind=SUPER,q,killactive,
bind=SUPER,f,togglefloating,
bind=SUPER,g,fullscreen,
bind=SUPERSHIFT,E,exit,

# Functional Binds
bind =,XF86AudioMicMute,exec,pamixer --default-source -t | $HOME/.config/hypr/scripts/micbacklight
bind =,XF86MonBrightnessDown,exec,light -T 0.72
bind =,XF86MonBrightnessUp,exec,light -T 1.4
bind =,XF86AudioMute,exec,pamixer -t
bind =,XF86AudioLowerVolume,exec,pamixer -d 10
bind =,XF86AudioRaiseVolume,exec,pamixer -i 10
bind =,XF86AudioPlay,exec,playerctl play-pause
bind =,XF86AudioPause,exec,playerctl play-pause

# to switch between windows in a floating workspace
bind=SUPER,Tab,cyclenext,         # change focus to another window
bind=SUPER,Tab,bringactivetotop,  # bring it to the top

# Move focus
bind=SUPER,h,movefocus,l
bind=SUPER,l,movefocus,r
bind=SUPER,k,movefocus,u
bind=SUPER,j,movefocus,d

bind=SUPERSHIFT,h,movewindow,l
bind=SUPERSHIFT,l,movewindow,r
bind=SUPERSHIFT,k,movewindow,u
bind=SUPERSHIFT,j,movewindow,d

bind=SUPER,left,resizeactive,-80 0
bind=SUPER,right,resizeactive,80 0
bind=SUPER,up,resizeactive,0 -80
bind=SUPER,down,resizeactive,0 80

# Switch workspaces with mainMod + [0-9]
bind=SUPER,1,workspace,1
bind=SUPER,2,workspace,2
bind=SUPER,3,workspace,3
bind=SUPER,4,workspace,4
bind=SUPER,5,workspace,5
bind=SUPER,6,workspace,6
bind=SUPER,7,workspace,7
bind=SUPER,8,workspace,8
bind=SUPER,9,workspace,9
bind=SUPER,0,workspace,10

# Move active window to a workspace with mainMod + SHIFT + [0-9]
bind=SUPERSHIFT,1,movetoworkspace,1
bind=SUPERSHIFT,2,movetoworkspace,2
bind=SUPERSHIFT,3,movetoworkspace,3
bind=SUPERSHIFT,4,movetoworkspace,4
bind=SUPERSHIFT,5,movetoworkspace,5
bind=SUPERSHIFT,6,movetoworkspace,6
bind=SUPERSHIFT,7,movetoworkspace,7
bind=SUPERSHIFT,8,movetoworkspace,8
bind=SUPERSHIFT,9,movetoworkspace,9
bind=SUPERSHIFT,0,movetoworkspace,10

# Scroll through existing workspaces with mainMod + scroll
bind=SUPER,mouse_down,workspace,e+1
bind=SUPER,mouse_up,workspace,e-1

# Move/resize windows with mainMod + LMB/RMB and dragging
bindm=SUPER mouse:273,mouse:272,movewindow
bindm=SUPER,mouse:273,resizewindow
bindm=,mouse:272 mouse:273,exec kitty

